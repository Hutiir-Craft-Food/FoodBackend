spring:
  config:
    import: optional:file:.env.local[.properties]

  jpa:
    generate-ddl: true
    hibernate:
      ddl-auto: update
    properties:
      hibernate:
        show-sql: true
        format_sql: true

  flyway:
    enabled: false
    placeholders:
      email: ${FLYWAY_EMAIL}
      password: ${FLYWAY_PASSWAORD}
      role: ${FLYWAY_ROLE}
      enabled: ${FLYWAY_ENABLED}

logging:
  level:
    root: INFO
    com:
      khutircraftubackend: DEBUG
  file:
    name: logs/latest.log
  pattern:
    console: "%d{HH:mm:ss.SSS} %boldCyan(%-26.-26thread) %boldYellow(%-20.-20logger{0}) %highlight(%-6level) %msg%n%throwable"
    file: "%d{HH:mm:ss.SSS} %-26.-26thread %-36.-36class{36} #%-24.-24method{24} L%-5.-5line %-20.-20logger{0} %-6level %msg%n%throwable"

logback:
  scan: true
  appenders:
    - name: STDOUT
      type: ConsoleAppender
      encoder:
        pattern: "%d{HH:mm:ss.SSS} %boldCyan(%-26.-26thread) %boldYellow(%-20.-20logger{0}) %highlight(%-6level) %msg%n%throwable"

    - name: FILE
      type: RollingFileAppender
      file: logs/latest.log
      rollingPolicy:
        type: TimeBasedRollingPolicy
        fileNamePattern: logs/logs-%d{yyyy-MM-dd}.log
        maxHistory: 7
        totalSizeCap: 1GB
      encoder:
        pattern: "%d{HH:mm:ss.SSS} %-26.-26thread %-36.-36class{36} #%-24.-24method{24} L%-5.-5line %-20.-20logger{0} %-6level %msg%n%throwable"

root:
  level: info,debug
  appenders:
    - ref: STDOUT
    - ref: FILE

management:
  endpoints:
    web:
      exposure:
        include: "info, loggers, health, auditevents, logfile, metrics, sessions"
      base-path: /adminac
  endpoint:
    health:
      show-details: always
  prometheus:
    metrics:
      export:
        enabled: true


